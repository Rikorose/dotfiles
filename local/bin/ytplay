#!/bin/sh

if [ -z "$1" ];
 then
    LINK=$(wl-paste -n | tr -d '[:space:]')
  else
    LINK=$1
    shift
fi

if ! curl --head --silent --fail $LINK >/dev/null 2>&1; then
  if ! [ -f $(readlink -f "$LINK") ]; then
    echo "This file or page does not exist."
    exit 1
  fi
fi

echo "Start playing $LINK"

cmd="mpv $LINK $@"
swaymsg exec \'"$cmd"\'
