#!/bin/sh

if ! swaymsg -t get_tree | rg -q scratchterm; then
  swaymsg exec "alacritty -t scratchterm"
  # Wait until sway has updated its tree
  while [[ ! $(swaymsg -t get_tree | rg -c scratchterm) -ge 1 ]]; do
    sleep 0.1
  done
fi
swaymsg "[title=scratchterm] scratchpad show"
